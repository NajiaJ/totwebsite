<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="home.css">
    <title>Tears of Themis</title>
</head>

<body>
    <video autoplay muted loop id="luke">
        <source src="https://tot.wiki/images/4/4e/Luke_%22Blossom_Encounters%22_Evolve_2.webm" type="video/webm">
    </video>

    <a href="profile.html">
        <img src="assets/Profile Bar_.png" class="profile" width="250" height="100">
        <img src="assets/Level.png" class="level" height="99">
        <img src="assets/image 2.png" class="pfp" height="90" width="230">
    </a>
    <img src="assets/Money Bar.png" class="money" height="70">
    <img src="assets/Gems.png" class="gems" height="50">
    <img src="assets/S-Chips.png" class="schips" height="50">
    <img src="assets/Stellin.png" class="stellin" height="50">
    <img src="assets/Alert.png" class="alert" height="70">
    <!-- <img src="assets/Alert.png" class="alert2" height="50">
    <img src="assets/Alert.png" class="alert3" height="70">
    <img src="assets/Alert.png" class="alert4" height="70">
    <img src="assets/Alert.png" class="alert5" height="70"> -->
    <a href=""> <img src="assets/Mall.png" class="mall" height="100"> </a>
    <a href=""> <img src="assets/Purchase Bonus.png" class="PB" height="100"> </a>
    <a href=""> <img src="assets/More.png" class="more" height="80"> </a>
    <a href=""> <img src="assets/Events.png" class="event" height="150"> </a>
    <a href=""> <img src="assets/Daily.png" class="daily" height="133"> </a>
    <a href=""> <img src="assets/Phone.png" class="phone" height="170"> </a>
    <a href=""> <img src="assets/FOF.png" class="fof" height="140"> </a>
    <a href=""> <img src="assets/CARDS.png" class="cards" height="140"> </a>
    <a href=""> <img src="assets/VISIONS.png" class="vision" height="140"> </a>
    <a href=""> <img src="assets/NXX.png" class="nxx" height="120"> </a>
    <a href=""> <img src="assets/SCHED.png" class="schedule" height="140"> </a>
    <a href=""> <img src="assets/Story.png" class="story" height="400"> </a>
    <a href=""> <img src="assets/Battery.png" class="battery" height="130"> </a>

    <script>
      window.addEventListener('DOMContentLoaded', () => {
  fetch('characters.json')
    .then(response => response.json())
    .then(data => {
      const selectedCharId = localStorage.getItem('selectedCharacter') || 'member1';  // default to Luke
      const selectedCardId = localStorage.getItem('selectedCard');

      const character = data.characters.find(c => c.id === selectedCharId);

      if (!character) {
        console.warn('Character not found');
        return;
      }

      let card = character.cards[0]; // default first card

      if (selectedCardId) {
        const foundCard = character.cards.find(c => c.id === selectedCardId);
        if (foundCard) card = foundCard;
      }

      // Update video source
      const videoElement = document.getElementById('luke');
      videoElement.src = card.video;
      videoElement.load();
      videoElement.play();

      // Optional: update UI card info
      document.getElementById('characterName').textContent = character.name;
      document.getElementById('cardTitle').textContent = card.title;
      document.getElementById('characterImage').src = character.image;
      document.getElementById('thumbnail').src = card.thumbnail;
    })
    .catch(err => console.error('Error loading characters.json:', err));
});

    </script>
</body>

</html>